
<!doctype html>
<html>
<head>
  
  <meta charset="utf-8">
  <!-- Still needed? -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="author" content="Mikhail Gusarov">
  <title>New Linux desktop environment</title>

  <link rel="stylesheet" href="/styles/main.css">
  <link rel="alternate" type="application/atom+xml" title="Mikhail Gusarov feed" href="../../blog.atom">

  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-120900398-1">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-120900398-1');
  </script>

</head>
<body>
  
<header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" href="/">Mikhail Gusarov</a>
    <nav class="site-nav">
      <span class="menu-icon">
        <svg viewBox="0 0 18 15" width="18px" height="15px">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </span>
      <div class="trigger">
        <a class="page-link active-page-link" href="/">Blog</a>
        <a class="page-link " href="/cv">CV</a>
        <a class="page-link " href="/keys">Keys</a>
        <a class="page-link " href="/software">Software</a>
        <a class="page-link " href="/contacts">Contacts</a>
      </div>
    </nav>
  </div>
</header>

  <main class="page-content">
    <div class="wrapper">
      
<article class="post">
  <h1>New Linux desktop environment</h1>
  <div class="post-content">
  <p>I am developing a new Linux desktop environment. This may sound odd in
2021, desktop environments being a part of Linux landscape for the last
20 years, so why I&rsquo;m doing it?</p>
<p>Obviously, I&rsquo;m not satisfied with the available options (not only on Linux,
but also under macOS, but there is no chance to having better desktop environment
for macOS).</p>
<p>More specifically, I do not see an existing solution that successfully
covers the following needs:</p>
<ul>
<li>deep work,</li>
<li>dynamic hardware and networking environment,</li>
<li>hackability.</li>
</ul>
<h2 id="deep-work">Deep work</h2>
<p>Deep work, or work in the state of the flow, requires environment that minimises
distractions and promotes formation of habits.</p>
<p>Existing desktop environments are not scoring high on these counts:</p>
<ul>
<li>
<p>Visible latency of desktop environments is a constant source of distraction.
One can often <em>see</em> the lag of GNOME desktop, even on a last-generation video
card! This means keystrokes and mouse clicks often get misdelivered or lost,
and this breaks the formation of habits: one can start forming a habit by
using keystrokes or mouse actions, only to see it crumbling when one becomes
good at this habit, as latency kicks in and breaks the flow.</p>
</li>
<li>
<p>Application laggines creates unneeded source of distraction too. While desktop
environment may not do much in this regard, there is not enough work for
detection of laggy applications popping up their windows in the middle of
unrelated operation.</p>
</li>
<li>
<p>Stability. One might think that after 20 years of development desktop environments
finally settled down, but <a href="https://gitlab.gnome.org/GNOME/gnome-shell/-/commit/7298ee23e91b756c7009b4d7687dfd8673856f8b">this is not what happens</a>.
Due to lack of hackability (see below), this makes upgrades very disruptive.</p>
</li>
<li>
<p>Notification systems are a nuisance, and desktop environments, while
acknowledging their distraction potential, and providing crude ways to disable
notifications, do not have a good solution for important, non-urgent
notifications.</p>
</li>
</ul>
<h2 id="dynamic-hardware-and-networking-environment">Dynamic hardware and networking environment</h2>
<p>Desktop environments are no longer used on PCs encased in tower cases sitting
on the floor with peripherals connected to them before boot. Hence the
desktop environment has to give user the control over the hardware and networks
coming and going dynamically, and the following is the <em>minimal</em> list:</p>
<ul>
<li>WiFi connectivity</li>
<li>Mobile broadband connectivity</li>
<li>VPNs</li>
<li>Bluetooth input and output (keyboards, mices, trackpads, audio)</li>
<li>USB peripheral devices (mass storage, eGPUs)</li>
<li>Displays (HDMI, DisplayPort, Thunderbolt, DB-over-USB tunneling)</li>
<li>Thunderbolt access control</li>
<li>Various weird stuff, like pairing Logitech mice and keyboards using
their special dongles.</li>
</ul>
<p>This rules out any Wayland compositors except KDE and GNOME: like X11 window
managers, many niche Wayland compositors are scoring high in the &ldquo;deep work&rdquo;
department, but they do not provide the user with any tools for hardware
management.</p>
<p>As a side-note, wlroots-enabled compositors are doubly disqualified
<a href="https://github.com/danvd/wlroots-eglstreams">as wlroots project won&rsquo;t merge support for NVidia drivers due to political reasons</a>.</p>
<h2 id="hackability">Hackability</h2>
<p>If the software was perfect, hackability won&rsquo;t be needed. Alas it is not, so
to overcome the imperfections of software we still have to improve it.</p>
<p>Hackability is a freedom often touted by open source advocates, but this
freedom is very hard to exercise in reality for existing desktop
environments.</p>
<p>Imagine a single person trying to change a way GNOME shell works. How does one
learn how to do it, how does one prepare, how does one execute the change, and
how does one integrate this change?</p>
<p>Direct dependencies of <code>gnome-shell</code> package in Debian include 64 packages,
including JavaScript and Python interpreters. The whole list of obviously
GNOME-related indirect dependencies is over a hundred packages long.</p>
<p>How does one understand which piece of code to change? By wading around in the
source code that contains tons of boilerplate?</p>
<p>How does one create a debug environment for experimenting with GNOME shell?
GNOME shell contains a lot of C code, so all the libraries have to be rebuilt in
debug mode. I don&rsquo;t see a documentation how to do it in a way that does not
ruin the system one is developing on. NixOS comes close, and actually provides
a way to integrate changes back to the running system, but
<a href="/2021/10/18/linux-is-not-os">it comes with its own set of drawbacks</a>.</p>
<p>Once this is done, how one uses the changed code, especially if the fix is not
in the shell itself (as a leaf package it could easily be replaced), but in a
library? What if the change is spread over several packages?</p>
<p>Hackability can&rsquo;t be introduced into a large system once it&rsquo;s built, so
there is no hope it can be added to existing desktop environments.</p>
<h2 id="project">Project</h2>
<p>The project is named <a href="https://github.com/5de">5DE</a>, and the goals for the project
are as stated above: try to make a Linux desktop environment that facilitates
deep work, handles dynamic hardware/networking environment of computers and
provides hackability.</p>
<p>There is not much there yet, and I will be documenting its progress in this blog
for the time being.</p>

  </div>
  <div class="post-meta">
    
<time datetime="2021-12-26T00:00:00Z">
  2021-12-26
</time>

  </div>
</article>

    </div>
  </main>
  

</body>
</html>
